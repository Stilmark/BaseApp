<VirtualHost *:80>
    ServerName base.dev
    
    Redirect / https://base.dev/
    <IfModule mod_remoteip.c>
        RemoteIPHeader CF-Connecting-IP
    </IfModule>
</VirtualHost>

<VirtualHost *:443>
    ServerName base.dev

    DocumentRoot /www/baseapp/public
    ErrorLog /www/baseapp/logs/error.log
    CustomLog /www/baseapp/logs/access.log combined

    SSLEngine on
    SSLCertificateFile /www/baseapp/.dist/ssl/base.dev.crt
    SSLCertificateKeyFile /www/baseapp/.dist/ssl/base.dev.key

    <Directory /www/baseapp>
        Options FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    <IfModule mod_remoteip.c>
        RemoteIPHeader CF-Connecting-IP
    </IfModule>
</VirtualHost>
